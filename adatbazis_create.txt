DROP TABLE KESZLET;
DROP TABLE KONYV;
DROP TABLE LEIRAS;
DROP TABLE KIADO;
DROP TABLE ARUHAZ;
DROP TABLE FELHASZNALO;


CREATE TABLE FELHASZNALO
(
    "ID" NUMBER(5,0) NOT NULL ENABLE,
    "NEV" VARCHAR2(40 BYTE) NOT NULL ENABLE, 
    "EMAIL" VARCHAR2(40 BYTE) NOT NULL ENABLE, 
    "JELSZO" VARCHAR2(40 BYTE) NOT NULL ENABLE, 
    "TORZSVASARLO" NUMBER(1,0), 
    "ADMIN" NUMBER(1,0), 
     PRIMARY KEY ("ID") ENABLE
);


CREATE TABLE ARUHAZ
(   
    "ID" NUMBER(5,0) NOT NULL ENABLE, 
    "CIM" VARCHAR2(40 BYTE) NOT NULL ENABLE,
    PRIMARY KEY ("ID") ENABLE
);


CREATE TABLE KIADO 
(
    "ID" NUMBER(5,0) NOT NULL ENABLE, 
    "KIADO_NEV" VARCHAR2(40 BYTE) NOT NULL ENABLE, 
    PRIMARY KEY ("ID") ENABLE
);


CREATE TABLE LEIRAS
(   
    "ID" NUMBER(5,0) NOT NULL ENABLE, 
    "LEIRAS" VARCHAR2(40 BYTE) NOT NULL ENABLE, 
     PRIMARY KEY ("ID") ENABLE
);


CREATE TABLE KONYV
(
    "ID" NUMBER NOT NULL ENABLE, 
    "CIM" VARCHAR2(50 BYTE), 
    "SZERZO_ID" NUMBER, 
    "KIADO_ID" NUMBER, 
    "OLDALSZAM" NUMBER,
    "LEIRAS_ID" VARCHAR2(255 BYTE),
    "NYELV" VARCHAR2(20 BYTE), 
    PRIMARY KEY ("ID") ENABLE,
    CONSTRAINT KONYV_KIADOFK
        FOREIGN KEY (KIADO_ID)
        REFERENCES KIADO(ID)
        ON DELETE CASCADE,
    CONSTRAINT KONYV_LEIRASFK
        FOREIGN KEY (ID)
        REFERENCES LEIRAS(ID)
        ON DELETE CASCADE
);


CREATE TABLE KESZLET
(
    "ARUHAZ_ID" NUMBER NOT NULL ENABLE, 
    "KONYV_ID" NUMBER NOT NULL ENABLE, 
    "MENNYISEG" NUMBER NOT NULL ENABLE, 
    CONSTRAINT KESZLET_ARUHAZFK 
        FOREIGN KEY (ARUHAZ_ID) 
        REFERENCES ARUHAZ(ID)
        ON DELETE CASCADE,
    CONSTRAINT KESZLET_KONYVFK
        FOREIGN KEY (KONYV_ID)
        REFERENCES KONYV(ID)
        ON DELETE CASCADE
);
